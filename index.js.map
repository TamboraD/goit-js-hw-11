{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCard = imgInfo => {\n    return `<li class=\"card-gallery\">\n    <div class=\"card\">\n    <a class=\"gallery-link\" target=\"_blank\" href=\"${imgInfo.largeImageURL}\">\n    <img class=\"img-gallery\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\"/>\n    </a>\n<div class=\"container-gallery\">\n<div class=\"gallery-items\">\n<p class=\"title-gallery\">Likes</p>\n<p class=\"gallery-item\">${imgInfo.likes}</p>\n</div>\n\n<div class=\"gallery-items\">\n<p class=\"title-gallery\">Views</p>\n<p class=\"gallery-item\">${imgInfo.views}</p>\n</div>\n\n<div class=\"gallery-items\">\n<p class=\"title-gallery\">Comments</p>\n<p class=\"gallery-item\">${imgInfo.comments}</p>\n</div>\n\n<div class=\"gallery-items\">\n<p class=\"title-gallery\">Downloads</p>\n<p class=\"gallery-item\">${imgInfo.downloads}</p>\n</div>\n</div>\n</div>\n    </li>`\n};","export const fetchPhotos = searchQuery => {\n    const searchParams = new URLSearchParams({\n        key: '48321272-90fb434237c8601cd660dced0',\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true'\n    });\n   return fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json()\n        });\n}","import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport { createGalleryCard } from './js/render-functions';\nimport { fetchPhotos } from './js/pixabay-api';\n\nconst form = document.querySelector('.form-gallery');\nconst list = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader-container')\n\n\n\nconst searchSubmit = event => {\n    loader.style.display = 'block'\n    event.preventDefault();\n    const searchQuery = event.currentTarget.elements.user_query.value.trim();\n\n    if (searchQuery === '') {\n        loader.style.display = 'none';\n        iziToast.error({\n            message: 'Please enter your request',\n            position: 'topRight'\n        });\n        return;\n    }\n    \n    fetchPhotos(searchQuery)\n        .then(data => {\n            if (data.total === 0) {\n                iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: 'topRight'\n                });\n                \n                list.innerHTML = '';\n                return;\n            }\n            const galleryTemplate = data.hits.map(el => createGalleryCard(el)).join('');\n\n            list.innerHTML = galleryTemplate;\n            const gallery = new SimpleLightbox('.gallery a', {\n                captionDelay: 300,\n                captionsData: 'alt',\n            });\n            gallery.refresh();\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    .finally(() => {\n        loader.style.display = 'none';\n        form.reset()\n    });\n};\nform.addEventListener('submit', searchSubmit);\n\n"],"names":["createGalleryCard","imgInfo","fetchPhotos","searchQuery","searchParams","response","form","list","loader","searchSubmit","event","iziToast","data","galleryTemplate","el","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAAoBC,GACtB;AAAA;AAAA,oDAEyCA,EAAQ,aAAa;AAAA,oCACrCA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0BAKpDA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,0BAKbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,0BAKbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAKhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,WCxB9BC,EAAcC,GAAe,CACtC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACF,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EACjD,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAClC,CAAS,CACT,ECVMC,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,mBAAmB,EAInDC,EAAeC,GAAS,CAC1BF,EAAO,MAAM,QAAU,QACvBE,EAAM,eAAc,EACpB,MAAMP,EAAcO,EAAM,cAAc,SAAS,WAAW,MAAM,OAElE,GAAIP,IAAgB,GAAI,CACpBK,EAAO,MAAM,QAAU,OACvBG,EAAS,MAAM,CACX,QAAS,4BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDT,EAAYC,CAAW,EAClB,KAAKS,GAAQ,CACV,GAAIA,EAAK,QAAU,EAAG,CAClBD,EAAS,MAAM,CACnB,QAAS,2EACT,SAAU,UACtB,CAAiB,EAEDJ,EAAK,UAAY,GACjB,MACH,CACD,MAAMM,EAAkBD,EAAK,KAAK,IAAIE,GAAMd,EAAkBc,CAAE,CAAC,EAAE,KAAK,EAAE,EAE1EP,EAAK,UAAYM,EACD,IAAIE,EAAe,aAAc,CAC7C,aAAc,IACd,aAAc,KAC9B,CAAa,EACO,QAAO,CAC3B,CAAS,EACA,MAAMC,GAAO,CACV,QAAQ,IAAIA,CAAG,CAC3B,CAAS,EACJ,QAAQ,IAAM,CACXR,EAAO,MAAM,QAAU,OACvBF,EAAK,MAAO,CACpB,CAAK,CACL,EACAA,EAAK,iBAAiB,SAAUG,CAAY"}